const quizData = [

/* ---------------- QUANTITATIVE (1–20) ---------------- */

{
id:1,
question:"If the HCF of two numbers is 15 and their LCM is 300, and one number is 60, what is the other?",
options:["50","75","65","100"],
correct:1
},
{
id:2,
question:"A sum of money doubles itself in 8 years at simple interest. What is the rate of interest?",
options:["10%","12.5%","15%","20%"],
correct:1
},
{
id:3,
question:"The average of 5 numbers is 27. If one number is excluded, the average becomes 25. The excluded number is:",
options:["35","45","55","30"],
correct:0
},
{
id:4,
question:"A train 150m long crosses a bridge 250m long in 20 seconds. What is the speed of the train?",
options:["72","54","60","80"],
correct:0
},
{
id:5,
question:"A fruit seller buys lemons at 2 for ₹1 and sells them at 5 for ₹3. His profit percentage is:",
options:["10%","15%","20%","25%"],
correct:2
},
{
id:6,
question:"If A:B = 3:4 and B:C = 8:9, then A:C is:",
options:["1:2","2:3","3:2","4:3"],
correct:1
},
{
id:7,
question:"75% of 480 + 25% of 800 = ?",
options:["500","560","600","650"],
correct:1
},
{
id:8,
question:"The ratio of the ages of Priya and Riya is 4:5. If the sum of their ages is 81, what is Priya’s age?",
options:["36","45","40","32"],
correct:0
},
{
id:9,
question:"A box contains 5 red and 4 blue balls. If two balls are drawn at random, what is the probability that both are red?",
options:["5/18","2/9","5/12","4/9"],
correct:0
},
{
id:10,
question:"A cylinder has a radius of 7 cm and height of 10 cm. Find its curved surface area.",
options:["440","154","220","616"],
correct:0
},
{
id:11,
question:"Which of the following is a prime number?",
options:["91","87","119","97"],
correct:3
},
{
id:12,
question:"A can do a piece of work in 12 days and B in 24 days. How many days will they take together?",
options:["9","8","10","6"],
correct:1
},
{
id:13,
question:"Find the missing number: 1, 4, 9, 16, 25, ?",
options:["30","35","36","49"],
correct:2
},
{
id:14,
question:"If 15% of x = 20% of y, then x:y is:",
options:["3:4","4:3","15:20","2:3"],
correct:1
},
{
id:15,
question:"A square’s side is increased by 20%. The percentage increase in its area is:",
options:["20%","40%","44%","36%"],
correct:2
},
{
id:16,
question:"Find the Median of the data: 10, 15, 12, 18, 20.",
options:["12","15","18","15.5"],
correct:1
},
{
id:17,
question:"A car travels at 60 km/hr for 2 hours and 40 km/hr for 3 hours. Average speed is:",
options:["50","48","45","52"],
correct:1
},
{
id:18,
question:"(0.5 × 0.5 × 0.5) + (0.1 × 0.1 × 0.1) = ?",
options:["0.126","0.26","0.0126","0.136"],
correct:0
},
{
id:19,
question:"Solve for x: 5x - 10 = 2x + 8.",
options:["4","6","8","10"],
correct:1
},
{
id:20,
question:"A person loses 10% by selling an item for ₹180. At what price should he sell it to gain 10%?",
options:["200","210","220","240"],
correct:2
},

/* ---------------- LOGICAL (21–40) ---------------- */

{
id:21,
question:"If SMART is coded as UKCVV, then TREND is coded as:",
options:["VTGPF","VTHPG","VUGPF","VVGPF"],
correct:0
},
{
id:22,
question:"Pointing to a woman, Abhi said, 'She is the daughter of my father's only son.' How is Abhi related to her?",
options:["Brother","Uncle","Father","Grandfather"],
correct:2
},
{
id:23,
question:"Odd one out:",
options:["Keyboard","Mouse","Monitor","Scanner"],
correct:2
},
{
id:24,
question:"All dogs are cats. All cats are lions. Conclusion: All dogs are lions.",
options:["True","False","Can't say","None"],
correct:0
},
{
id:25,
question:"If Sunday is the first day of a month, what day is the 25th?",
options:["Friday","Wednesday","Tuesday","Monday"],
correct:1
},
{
id:26,
question:"A is B's sister. C is B's mother. D is C's father. How is D related to A?",
options:["Grandfather","Father","Son","Uncle"],
correct:0
},
{
id:27,
question:"Series: QPO, NML, KJI, ____, EDC.",
options:["HGF","CAB","JKL","GHI"],
correct:0
},
{
id:28,
question:"A man walks 10m South, turns left and walks 12m, then turns left again and walks 10m. How far is he from the start?",
options:["10m","12m","22m","0m"],
correct:1
},
{
id:29,
question:"If + means ÷ and ÷ means ×, then 100 + 5 ÷ 2 = ?",
options:["10","40","50","20"],
correct:1
},
{
id:30,
question:"If 'Red' is called 'Air', 'Air' is called 'Blue', 'Blue' is called 'Water', where do birds fly?",
options:["Air","Blue","Water","Red"],
correct:1
},
{
id:31,
question:"Looking at a clock, it’s 9:30. What is the angle between the hands?",
options:["90°","105°","120°","75°"],
correct:1
},
{
id:32,
question:"Complete: 2, 6, 12, 20, 30, ?",
options:["40","42","44","46"],
correct:1
},
{
id:33,
question:"In a row of 20 students, Raj is 5th from the left. What is his position from the right?",
options:["15th","16th","14th","17th"],
correct:1
},
{
id:34,
question:"Should plastic be banned? Argument 1: Yes, it harms the environment. Argument 2: No, it is very cheap.",
options:["Only 1 is strong","Only 2 is strong","Both are strong","Neither"],
correct:0
},
{
id:35,
question:"If MOUSE is 41, what is CAT?",
options:["24","30","20","26"],
correct:0
},
{
id:36,
question:"If today is Tuesday, what day was it 15 days ago?",
options:["Monday","Tuesday","Wednesday","Sunday"],
correct:0
},
{
id:37,
question:"Hand : Finger :: Leg : ?",
options:["Toe","Heel","Knee","Walk"],
correct:0
},
{
id:38,
question:"Which word cannot be formed from 'COMMUNICATION'?",
options:["ACTION","UNION","MUSIC","COMMON"],
correct:2
},
{
id:39,
question:"Arrange: Sun → Vapor → Cloud → Rain",
options:["4,2,3,1","1,2,3,4","4,3,2,1","2,4,3,1"],
correct:0
},
{
id:40,
question:"How many squares are in a 3×3 grid?",
options:["9","10","14","13"],
correct:2
},

/* ---------------- VERBAL (41–60) ---------------- */

{
id:41,
question:'Synonym of "ENORMOUS":',
options:["Tiny","Huge","Weak","Soft"],
correct:1
},
{
id:42,
question:'Antonym of "ANCIENT":',
options:["Old","Modern","Historic","Fast"],
correct:1
},
{
id:43,
question:"He is ___ university student.",
options:["a","an","the","no article"],
correct:0
},
{
id:44,
question:'Error: "Each of the players have a trophy."',
options:["Each","players","have","trophy"],
correct:2
},
{
id:45,
question:'Meaning of "Break a leg":',
options:["To get hurt","Good luck","To fight","To run fast"],
correct:1
},
{
id:46,
question:"I have been living here ___ 2010.",
options:["for","since","from","by"],
correct:1
},
{
id:47,
question:"Correct spelling:",
options:["Accommodation","Acomodation","Accomodation","Acommodation"],
correct:0
},
{
id:48,
question:"One word for 'A person who knows many languages':",
options:["Polyglot","Bilingual","Optimist","Scholar"],
correct:0
},
{
id:49,
question:"Doctor : Patient :: Teacher : ?",
options:["School","Student","Books","Class"],
correct:1
},
{
id:50,
question:"Rearrange: P the book Q on the table R I S kept",
options:["RSPQ","RPSQ","PRSQ","SQPR"],
correct:1
},
{
id:51,
question:'Passive: "She wrote a letter."',
options:["A letter is written by her.","A letter was written by her.","She has written a letter.","Letter written by her"],
correct:1
},
{
id:52,
question:"The cat sat ___ the mat.",
options:["on","in","at","over"],
correct:0
},
{
id:53,
question:'Synonym of "CANDID":',
options:["Sweet","Honest","Hidden","Cruel"],
correct:1
},
{
id:54,
question:'Antonym of "OPTIMIST":',
options:["Hopeful","Pessimist","Idealist","Realist"],
correct:1
},
{
id:55,
question:'Correction: "He don’t like apples."',
options:["He not like","He doesn't likes","He doesn't like","Correct"],
correct:2
},
{
id:56,
question:'Meaning of "A piece of cake":',
options:["Very easy","Very tasty","Expensive","Small part"],
correct:0
},
{
id:57,
question:"Correct sentence:",
options:["He is more taller than me.","He is taller than me.","He is tallest than me.","He taller me"],
correct:1
},
{
id:58,
question:"The sun ___ in the east.",
options:["rise","rises","rising","rose"],
correct:1
},
{
id:59,
question:'Synonym of "FRAGILE":',
options:["Strong","Delicate","Heavy","Fast"],
correct:1
},
{
id:60,
question:"A place where birds are kept:",
options:["Aquarium","Aviary","Zoo","Stable"],
correct:1
}

];


// State Variables
let currentQuestion = 0;
let selectedAnswers = {};
let markedQuestions = new Set();
let timeLeft = 45 * 60; // 45 minutes in seconds
let timerInterval;

// Initialize Quiz
function initQuiz() {
    renderQuestionGrid();
    loadQuestion();
    startTimer();
    updateStats();
}

// Start Timer
function startTimer() {
    timerInterval = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();
        
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            submitQuiz();
        }
    }, 1000);
}

// Update Timer Display
function updateTimerDisplay() {
    const minutes = Math.floor(timeLeft / 60);
    const seconds = timeLeft % 60;
    const timerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
    document.getElementById('timer').textContent = timerText;
}

// Render Question Grid
function renderQuestionGrid() {
    const grid = document.getElementById('questionGrid');
    grid.innerHTML = '';
    
    quizData.forEach((_, index) => {
        const btn = document.createElement('button');
        btn.className = 'question-number';
        btn.textContent = index + 1;
        btn.onclick = () => jumpToQuestion(index);
        grid.appendChild(btn);
    });
    
    updateQuestionGrid();
}

// Update Question Grid Colors
function updateQuestionGrid() {
    const buttons = document.querySelectorAll('.question-number');
    
    buttons.forEach((btn, index) => {
        // Remove all status classes
        btn.classList.remove('current', 'answered', 'marked', 'unattempted');
        
        // Add appropriate class
        if (index === currentQuestion) {
            btn.classList.add('current');
        }
        
        if (selectedAnswers[index] !== undefined) {
            btn.classList.add('answered');
        } else if (markedQuestions.has(index)) {
            btn.classList.add('marked');
        } else {
            btn.classList.add('unattempted');
        }
    });
}

// Load Current Question
function loadQuestion() {
    const question = quizData[currentQuestion];
    
    // Update question number and text
    document.getElementById('questionNumber').textContent = `Question ${currentQuestion + 1}`;
    document.getElementById('questionText').textContent = question.question;
    
    // Render options
    const optionsContainer = document.getElementById('optionsContainer');
    optionsContainer.innerHTML = '';
    
    question.options.forEach((option, index) => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = option;
        
        if (selectedAnswers[currentQuestion] === index) {
            btn.classList.add('selected');
        }
        
        btn.onclick = () => selectAnswer(index);
        optionsContainer.appendChild(btn);
    });
    
    // Update navigation buttons
    updateNavigationButtons();
    updateMarkButton();
    updateQuestionGrid();
}

// Select Answer
function selectAnswer(optionIndex) {
    selectedAnswers[currentQuestion] = optionIndex;
    
    // Update option buttons
    const optionButtons = document.querySelectorAll('.option-btn');
    optionButtons.forEach((btn, index) => {
        if (index === optionIndex) {
            btn.classList.add('selected');
        } else {
            btn.classList.remove('selected');
        }
    });
    
    updateStats();
    updateQuestionGrid();
}

// Toggle Mark for Review
function toggleMark() {
    if (markedQuestions.has(currentQuestion)) {
        markedQuestions.delete(currentQuestion);
    } else {
        markedQuestions.add(currentQuestion);
    }
    
    updateMarkButton();
    updateStats();
    updateQuestionGrid();
}

// Update Mark Button
function updateMarkButton() {
    const markBtn = document.getElementById('markBtn');
    if (markedQuestions.has(currentQuestion)) {
        markBtn.classList.add('marked');
        markBtn.innerHTML = '⭐ Unmark';
    } else {
        markBtn.classList.remove('marked');
        markBtn.innerHTML = '⭐ Mark for Review';
    }
}

// Update Navigation Buttons
function updateNavigationButtons() {
    const previousBtn = document.getElementById('previousBtn');
    const nextBtn = document.getElementById('nextBtn');
    const submitBtn = document.getElementById('submitBtn');
    
    // Previous button
    previousBtn.disabled = currentQuestion === 0;
    
    // Show/hide next and submit buttons
    if (currentQuestion === quizData.length - 1) {
        nextBtn.style.display = 'none';
        submitBtn.style.display = 'block';
    } else {
        nextBtn.style.display = 'block';
        submitBtn.style.display = 'none';
    }
}

// Update Stats
function updateStats() {
    const answeredCount = Object.keys(selectedAnswers).length;
    const markedCount = markedQuestions.size;
    const remainingCount = quizData.length - answeredCount;
    
    document.getElementById('answeredCount').textContent = answeredCount;
    document.getElementById('markedCount').textContent = markedCount;
    document.getElementById('remainingCount').textContent = remainingCount;
}

// Jump to Question
function jumpToQuestion(index) {
    currentQuestion = index;
    loadQuestion();
}

// Previous Question
function previousQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion();
    }
}

// Next Question
function nextQuestion() {
    if (currentQuestion < quizData.length - 1) {
        currentQuestion++;
        loadQuestion();
    }
}

// Submit Quiz
function submitQuiz() {
    clearInterval(timerInterval);
    
    // Calculate score
    let correctCount = 0;
    Object.keys(selectedAnswers).forEach((qIndex) => {
        if (selectedAnswers[qIndex] === quizData[qIndex].correct) {
            correctCount++;
        }
    });
    
    const incorrectCount = Object.keys(selectedAnswers).length - correctCount;
    const unattemptedCount = quizData.length - Object.keys(selectedAnswers).length;
    const percentage = ((correctCount / quizData.length) * 100).toFixed(1);
    
    // Update results
    document.getElementById('scoreNumber').textContent = correctCount;
    document.getElementById('scoreTotal').textContent = `/ ${quizData.length}`;
    document.getElementById('percentage').textContent = `${percentage}%`;
    document.getElementById('correctCount').textContent = correctCount;
    document.getElementById('incorrectCount').textContent = incorrectCount;
    document.getElementById('unattemptedCount').textContent = unattemptedCount;
    
    // Generate answer key
    const answersList = document.getElementById('answersList');
    answersList.innerHTML = '';
    
    quizData.forEach((q, index) => {
        const answerItem = document.createElement('div');
        answerItem.className = 'answer-item';
        
        let answerHTML = `<strong>Q${index + 1}:</strong> ${q.options[q.correct]}`;
        
        if (selectedAnswers[index] !== undefined && selectedAnswers[index] !== q.correct) {
            answerHTML += `<span class="wrong-answer">(You selected: ${q.options[selectedAnswers[index]]})</span>`;
        }
        
        answerItem.innerHTML = answerHTML;
        answersList.appendChild(answerItem);
    });
    
    // Show results, hide quiz
    document.getElementById('quizContainer').style.display = 'none';
    document.getElementById('resultsContainer').style.display = 'block';
}

// Restart Quiz
function restartQuiz() {
    // Reset state
    currentQuestion = 0;
    selectedAnswers = {};
    markedQuestions = new Set();
    timeLeft = 45 * 60;
    
    // Hide results, show quiz
    document.getElementById('resultsContainer').style.display = 'none';
    document.getElementById('quizContainer').style.display = 'grid';
    
    // Reinitialize
    initQuiz();
}

// Initialize when page loads
window.onload = initQuiz;
